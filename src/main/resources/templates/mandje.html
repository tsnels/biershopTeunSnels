<!DOCTYPE html>
<html lang="nl" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments::head(title='De biershop')"></head>

<body>

<nav th:replace="fragments::menu"></nav>

<h1>Mandje</h1>

<th:block  th:if="not ${mandje.isEmpty()}">
    <table>
        <thead>
        <tr>
            <th>Bier</th>
            <th>Prijs</th>
            <th>Aantal</th>
            <th>Te betalen</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item : ${mandje}" th:object="${item}">
            <td th:text="*{naam}"></td>
            <td th:text="*{prijs}"></td>
            <td th:text="*{aantal}"></td>
            <td th:text="*{totaal}"></td>
        </tr>
<!--        <tr th:object="${mandje}">-->
<!--            <td th:text="*{aantal.stream().findFirst()}"></td>-->
<!--        </tr>-->

        </tbody>
    </table>
</th:block>

<th:block th:if="not ${mandje.isEmpty()}">
    <h1 th:text="|Totale prijs: â‚¬${totalePrijs}|"></h1>
</th:block>

<div th:if="${mandje.isEmpty()}">Je mandje is leeg.</div>

<th:block th:if="not ${mandje.isEmpty()}">
<form class="formulier" th:object="${persoonsGegevens}" method="post" th:action="@{/bestelBevestiging}" >
    <div><label>Naam</label><input th:field="*{naam}" autofocus/></div>
    <div><label>Straat</label><input th:field="*{straat}" autofocus/></div>
    <div><label>Huisnummer</label><input th:field="*{huisNr}" autofocus/></div>
    <div><label>Postcode</label><input th:field="*{postcode}" autofocus/></div>
    <div><label>Gemeente</label><input th:field="*{gemeente}" autofocus/></div>
    <button>Als bestelbon bevestigen</button>
</form>
</th:block>

<!--<th:block th:if="${bevestiging}">-->
<!--    <h2 th:text="${bevestiging}"></h2>-->
<!--</th:block>-->

</body>
</html>