<!DOCTYPE html>
<html lang="nl" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments::head(title='De biershop')"></head>

<body>

<nav th:replace="fragments::menu"></nav>

<h1>Mandje</h1>

<th:block  th:if="not ${mandje.isEmpty()}">
    <table>
        <thead>
        <tr>
            <th>Bier</th>
            <th>Prijs</th>
            <th>Aantal</th>
            <th>Te betalen</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item : ${mandje}" th:object="${item}">
            <td th:text="*{naam}"></td>
            <td th:text="*{prijs}"></td>
            <td th:text="*{aantal}"></td>
            <td th:text="*{totaal}"></td>
        </tr>
<!--        <tr th:object="${mandje}">-->
<!--            <td th:text="*{aantal.stream().findFirst()}"></td>-->
<!--        </tr>-->

        </tbody>
    </table>
</th:block>
<th:block th:if="not ${mandje.isEmpty()}">
    <h1 th:text="${totalePrijs}"></h1>
</th:block>

<div th:if="${mandje.isEmpty()}">Je mandje is leeg.</div>

<form th:object="${persoonsGegevens}" method="post" th:action="@{/mandje}" >
    <Label>Naam<input th:field="*{naam}" autofocus></Label>
    <button>Toevoegen</button>
</form>

<th:block th:if="${bevestiging}">
    <h2 th:text="${bevestiging}"></h2>
</th:block>

</body>
</html>